/**
 * 神煞知识库
 * 包含完整的神煞查表和解释
 */

// ==================== 吉神 ====================

// 天乙贵人（按日干查）- 最重要的贵人星
export const TIANYI_GUIREN: Record<string, string[]> = {
  "甲": ["丑", "未"], "戊": ["丑", "未"],
  "乙": ["子", "申"], "己": ["子", "申"],
  "丙": ["亥", "酉"], "丁": ["亥", "酉"],
  "庚": ["丑", "未"],
  "辛": ["寅", "午"],
  "壬": ["卯", "巳"], "癸": ["卯", "巳"]
};

// 太极贵人（按日干查）
export const TAIJI_GUIREN: Record<string, string[]> = {
  "甲": ["子", "午"], "乙": ["子", "午"],
  "丙": ["卯", "酉"], "丁": ["卯", "酉"],
  "戊": ["辰", "戌", "丑", "未"], "己": ["辰", "戌", "丑", "未"],
  "庚": ["寅", "亥"], "辛": ["寅", "亥"],
  "壬": ["巳", "申"], "癸": ["巳", "申"]
};

// 天德贵人（按月支查）
export const TIANDE: Record<string, string> = {
  "寅": "丁", "卯": "申", "辰": "壬", "巳": "辛",
  "午": "亥", "未": "甲", "申": "癸", "酉": "寅",
  "戌": "丙", "亥": "乙", "子": "巳", "丑": "庚"
};

// 月德贵人（按月支查）
export const YUEDE: Record<string, string> = {
  "寅": "丙", "午": "丙", "戌": "丙",  // 寅午戌月见丙
  "申": "壬", "子": "壬", "辰": "壬",  // 申子辰月见壬
  "巳": "庚", "酉": "庚", "丑": "庚",  // 巳酉丑月见庚
  "亥": "甲", "卯": "甲", "未": "甲"   // 亥卯未月见甲
};

// 文昌贵人（按日干查）
export const WENCHANG: Record<string, string> = {
  "甲": "巳", "乙": "午", "丙": "申", "丁": "酉", "戊": "申",
  "己": "酉", "庚": "亥", "辛": "子", "壬": "寅", "癸": "卯"
};

// 国印贵人（按日干查）
export const GUOYIN: Record<string, string> = {
  "甲": "戌", "乙": "亥", "丙": "丑", "丁": "寅", "戊": "丑",
  "己": "寅", "庚": "辰", "辛": "巳", "壬": "未", "癸": "申"
};

// 金舆（按日干查）- 主贵人扶持
export const JINYU: Record<string, string> = {
  "甲": "辰", "乙": "巳", "丙": "未", "丁": "申", "戊": "未",
  "己": "申", "庚": "戌", "辛": "亥", "壬": "丑", "癸": "寅"
};

// 天官贵人（按日干查）
export const TIANGUAN: Record<string, string> = {
  "甲": "未", "乙": "辰", "丙": "巳", "丁": "寅", "戊": "巳",
  "己": "寅", "庚": "亥", "辛": "申", "壬": "亥", "癸": "申"
};

// 福星贵人（按日干查）
export const FUXING: Record<string, string> = {
  "甲": "寅", "乙": "丑", "丙": "子", "丁": "亥", "戊": "戌",
  "己": "酉", "庚": "申", "辛": "未", "壬": "午", "癸": "巳"
};

// 禄神（按日干查）- 临官之位
export const LUSHEN: Record<string, string> = {
  "甲": "寅", "乙": "卯", "丙": "巳", "丁": "午", "戊": "巳",
  "己": "午", "庚": "申", "辛": "酉", "壬": "亥", "癸": "子"
};

// 驿马（按年支或日支查）
export const YIMA: Record<string, string> = {
  "寅": "申", "午": "申", "戌": "申",  // 寅午戌见申为驿马
  "申": "寅", "子": "寅", "辰": "寅",  // 申子辰见寅为驿马
  "巳": "亥", "酉": "亥", "丑": "亥",  // 巳酉丑见亥为驿马
  "亥": "巳", "卯": "巳", "未": "巳"   // 亥卯未见巳为驿马
};

// 华盖（按年支或日支查）- 主聪明孤高
export const HUAGAI: Record<string, string> = {
  "寅": "戌", "午": "戌", "戌": "戌",
  "申": "辰", "子": "辰", "辰": "辰",
  "巳": "丑", "酉": "丑", "丑": "丑",
  "亥": "未", "卯": "未", "未": "未"
};

// 将星（按年支或日支查）- 主领导力
export const JIANGXING: Record<string, string> = {
  "寅": "午", "午": "午", "戌": "午",
  "申": "子", "子": "子", "辰": "子",
  "巳": "酉", "酉": "酉", "丑": "酉",
  "亥": "卯", "卯": "卯", "未": "卯"
};

// ==================== 凶神 ====================

// 羊刃（按日干查）- 刚强凶险
export const YANGREN: Record<string, string> = {
  "甲": "卯", "丙": "午", "戊": "午",
  "庚": "酉", "壬": "子"
  // 乙丁己辛癸无羊刃（阴干无刃）
};

// 桃花（按年支或日支查）- 主感情
export const TAOHUA: Record<string, string> = {
  "寅": "卯", "午": "卯", "戌": "卯",
  "申": "酉", "子": "酉", "辰": "酉",
  "巳": "午", "酉": "午", "丑": "午",
  "亥": "子", "卯": "子", "未": "子"
};

// 红艳煞（按日干查）- 主感情复杂
export const HONGYAN: Record<string, string> = {
  "甲": "午", "乙": "午", "丙": "寅", "丁": "未",
  "戊": "辰", "己": "辰", "庚": "戌", "辛": "酉",
  "壬": "子", "癸": "申"
};

// 劫煞（按年支或日支查）- 主意外灾祸
export const JIESHA: Record<string, string> = {
  "寅": "巳", "午": "巳", "戌": "巳",
  "申": "亥", "子": "亥", "辰": "亥",
  "巳": "申", "酉": "申", "丑": "申",
  "亥": "寅", "卯": "寅", "未": "寅"
};

// 灾煞（按年支或日支查）
export const ZAISHA: Record<string, string> = {
  "寅": "子", "午": "子", "戌": "子",
  "申": "午", "子": "午", "辰": "午",
  "巳": "卯", "酉": "卯", "丑": "卯",
  "亥": "酉", "卯": "酉", "未": "酉"
};

// 亡神（按年支或日支查）
export const WANGSHEN: Record<string, string> = {
  "寅": "亥", "午": "亥", "戌": "亥",
  "申": "巳", "子": "巳", "辰": "巳",
  "巳": "寅", "酉": "寅", "丑": "寅",
  "亥": "申", "卯": "申", "未": "申"
};

// 孤辰（按年支查）- 主孤独
export const GUCHEN: Record<string, string> = {
  "寅": "巳", "卯": "巳", "辰": "巳",
  "巳": "申", "午": "申", "未": "申",
  "申": "亥", "酉": "亥", "戌": "亥",
  "亥": "寅", "子": "寅", "丑": "寅"
};

// 寡宿（按年支查）- 主孤独
export const GUASU: Record<string, string> = {
  "寅": "丑", "卯": "丑", "辰": "丑",
  "巳": "辰", "午": "辰", "未": "辰",
  "申": "未", "酉": "未", "戌": "未",
  "亥": "戌", "子": "戌", "丑": "戌"
};

// 天罗（按日支查，主男）
export const TIANLUO: Record<string, boolean> = {
  "戌": true, "亥": true
};

// 地网（按日支查，主女）
export const DIWANG: Record<string, boolean> = {
  "辰": true, "巳": true
};

// 空亡计算（根据日柱查）
// 十天干轮转，查出当日柱对应的空亡地支
export const KONGWANG_TABLE: Record<string, string[]> = {
  "甲子": ["戌", "亥"], "甲戌": ["申", "酉"], "甲申": ["午", "未"],
  "甲午": ["辰", "巳"], "甲辰": ["寅", "卯"], "甲寅": ["子", "丑"],
  "乙丑": ["戌", "亥"], "乙亥": ["申", "酉"], "乙酉": ["午", "未"],
  "乙未": ["辰", "巳"], "乙巳": ["寅", "卯"], "乙卯": ["子", "丑"],
  "丙寅": ["戌", "亥"], "丙子": ["申", "酉"], "丙戌": ["午", "未"],
  "丙申": ["辰", "巳"], "丙午": ["寅", "卯"], "丙辰": ["子", "丑"],
  "丁卯": ["戌", "亥"], "丁丑": ["申", "酉"], "丁亥": ["午", "未"],
  "丁酉": ["辰", "巳"], "丁未": ["寅", "卯"], "丁巳": ["子", "丑"],
  "戊辰": ["戌", "亥"], "戊寅": ["申", "酉"], "戊子": ["午", "未"],
  "戊戌": ["辰", "巳"], "戊申": ["寅", "卯"], "戊午": ["子", "丑"],
  "己巳": ["戌", "亥"], "己卯": ["申", "酉"], "己丑": ["午", "未"],
  "己亥": ["辰", "巳"], "己酉": ["寅", "卯"], "己未": ["子", "丑"],
  "庚午": ["戌", "亥"], "庚辰": ["申", "酉"], "庚寅": ["午", "未"],
  "庚子": ["辰", "巳"], "庚戌": ["寅", "卯"], "庚申": ["子", "丑"],
  "辛未": ["戌", "亥"], "辛巳": ["申", "酉"], "辛卯": ["午", "未"],
  "辛丑": ["辰", "巳"], "辛亥": ["寅", "卯"], "辛酉": ["子", "丑"],
  "壬申": ["戌", "亥"], "壬午": ["申", "酉"], "壬辰": ["午", "未"],
  "壬寅": ["辰", "巳"], "壬子": ["寅", "卯"], "壬戌": ["子", "丑"],
  "癸酉": ["戌", "亥"], "癸未": ["申", "酉"], "癸巳": ["午", "未"],
  "癸卯": ["辰", "巳"], "癸丑": ["寅", "卯"], "癸亥": ["子", "丑"]
};

// ==================== 神煞解释库 ====================

export interface ShenShaInfo {
  name: string;
  type: 'auspicious' | 'inauspicious' | 'neutral';
  meaning: string;
  detail: string;
  advice?: string;
}

export const SHENSHA_MEANINGS: Record<string, ShenShaInfo> = {
  "天乙贵人": {
    name: "天乙贵人",
    type: "auspicious",
    meaning: "主贵人相助，逢凶化吉",
    detail: "天乙贵人是最重要的贵人星，主命中有贵人扶持，遇难呈祥，逢凶化吉。在事业、生活中常得贵人提携帮助。",
    advice: "多结交贵人，保持谦逊之心，贵人自会相助。"
  },
  "太极贵人": {
    name: "太极贵人",
    type: "auspicious",
    meaning: "主聪慧好学，有悟性",
    detail: "太极贵人主人聪明伶俐，对玄学、哲学、宗教有天赋，适合从事学术研究或艺术创作。",
    advice: "可研习易学、佛学等，有所成就。"
  },
  "天德": {
    name: "天德贵人",
    type: "auspicious",
    meaning: "主福德深厚，逢凶化吉",
    detail: "天德贵人主福禄，遇险能解，有天降之福德庇佑。",
    advice: "行善积德，福报更厚。"
  },
  "月德": {
    name: "月德贵人",
    type: "auspicious",
    meaning: "主福泽绵长，有人缘",
    detail: "月德贵人主人缘好，性格温和，能得众人喜爱和帮助。",
    advice: "保持善良之心，广结善缘。"
  },
  "文昌": {
    name: "文昌贵人",
    type: "auspicious",
    meaning: "主聪明好学，利于考试",
    detail: "文昌星主智慧文章，利于学业考试，适合从事文化、教育、写作等工作。",
    advice: "重视学习，考试运势较好，可往文化领域发展。"
  },
  "国印": {
    name: "国印贵人",
    type: "auspicious",
    meaning: "主权威，利于从政",
    detail: "国印贵人主权力地位，适合从政或从事管理工作，有官运。",
    advice: "可考虑公务员或管理岗位。"
  },
  "金舆": {
    name: "金舆",
    type: "auspicious",
    meaning: "主得配偶助力，婚姻美满",
    detail: "金舆星主婚姻美满，配偶能干，能得伴侣之力成就事业。",
    advice: "珍惜伴侣，共同经营好婚姻。"
  },
  "禄神": {
    name: "禄神",
    type: "auspicious",
    meaning: "主福禄，衣食无忧",
    detail: "禄神主财禄，命中带禄神者，一生衣食丰足，不愁生计。",
    advice: "知足常乐，福禄自来。"
  },
  "驿马": {
    name: "驿马",
    type: "neutral",
    meaning: "主变动奔波，利于外出",
    detail: "驿马星主变动、迁移、出行，适合从事交通运输、外贸、旅游等需要奔波的行业。",
    advice: "可往外地发展，动中有财。"
  },
  "华盖": {
    name: "华盖",
    type: "neutral",
    meaning: "主孤高不凡，有艺术天赋",
    detail: "华盖星主人聪明孤傲，适合艺术创作、宗教哲学研究，但可能较为孤独。",
    advice: "适合独立工作，可发展艺术特长。"
  },
  "将星": {
    name: "将星",
    type: "auspicious",
    meaning: "主领导力，适合管理",
    detail: "将星主权威和领导能力，适合担任领导职位，有号召力。",
    advice: "可往管理方向发展，有领导才能。"
  },
  "桃花": {
    name: "桃花",
    type: "neutral",
    meaning: "主人缘好，异性缘佳",
    detail: "桃花星主人缘和异性缘，容易吸引异性，但需注意感情上的是非。",
    advice: "注意感情节制，防止烂桃花。"
  },
  "羊刃": {
    name: "羊刃",
    type: "inauspicious",
    meaning: "主刚强，须防意外",
    detail: "羊刃星主性格刚强、急躁，容易冲动，需防意外伤害和争斗。",
    advice: "修身养性，控制脾气，避免争斗。"
  },
  "红艳": {
    name: "红艳煞",
    type: "inauspicious",
    meaning: "主感情复杂，易有桃色纠纷",
    detail: "红艳煞主感情生活复杂，容易陷入多角恋情或桃色纠纷。",
    advice: "感情上要专一，避免三角关系。"
  },
  "劫煞": {
    name: "劫煞",
    type: "inauspicious",
    meaning: "主意外灾祸，须防小人",
    detail: "劫煞主意外损失、灾祸，需防小人暗算和意外事故。",
    advice: "谨慎交友，小心投资，注意安全。"
  },
  "灾煞": {
    name: "灾煞",
    type: "inauspicious",
    meaning: "主疾病灾害，需注意健康",
    detail: "灾煞主疾病和灾害，需特别注意身体健康和安全。",
    advice: "定期体检，注意养生，小心出行。"
  },
  "亡神": {
    name: "亡神",
    type: "inauspicious",
    meaning: "主耗散，须防破财",
    detail: "亡神主损耗，容易破财或精力耗散，需注意理财和休息。",
    advice: "理性消费，保重身体，避免劳累过度。"
  },
  "孤辰": {
    name: "孤辰",
    type: "inauspicious",
    meaning: "主孤独，不利婚姻",
    detail: "孤辰星主孤独，男命带孤辰不利婚姻，容易晚婚或婚姻不顺。",
    advice: "主动社交，珍惜缘分，不可太过孤僻。"
  },
  "寡宿": {
    name: "寡宿",
    type: "inauspicious",
    meaning: "主孤独，不利婚姻",
    detail: "寡宿星主孤独，女命带寡宿不利婚姻，容易守寡或婚姻波折。",
    advice: "主动社交，珍惜缘分，多与人交流。"
  },
  "天罗": {
    name: "天罗",
    type: "inauspicious",
    meaning: "主困顿，男命不利",
    detail: "天罗主困顿阻碍，男命遇之不利事业和发展。",
    advice: "遇事多思考，寻求突破之道。"
  },
  "地网": {
    name: "地网",
    type: "inauspicious",
    meaning: "主困顿，女命不利",
    detail: "地网主困顿阻碍，女命遇之不利婚姻和家庭。",
    advice: "遇事多思考，寻求突破之道。"
  },
  "空亡": {
    name: "空亡",
    type: "neutral",
    meaning: "主虚空，事业起伏",
    detail: "空亡主事物落空，可能出现计划落空或期望落差的情况，但也主人有悟性。",
    advice: "事业上需踏实努力，不可过于理想化。"
  }
};

// 获取神煞解释
export function getShenShaInfo(name: string): ShenShaInfo | null {
  return SHENSHA_MEANINGS[name] || null;
}
